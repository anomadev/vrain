En PHP, los **parámetros opcionales** permiten asignar **valores por defecto** en la declaración de la función para que, si no se proporciona el argumento, el parámetro tome ese valor predeterminado. Estos valores pueden ser **escalares** (cadenas, números, booleanos), **arrays** ([[3.1 Arrays]]), **null**, e incluso **objetos** ([[11.1 Classes and Objects]]) (desde PHP 8.1) [PHP](https://www.php.net/manual/en/functions.arguments.php). El valor por defecto **solo** se aplica cuando **no se pasa** ningún argumento para ese parámetro (pasar `null` no lo activa) [PHP](https://www.php.net/manual/en/functions.arguments.php). PHP exige que **todos** los parámetros opcionales vayan **al final** de la lista de parámetros ([[6.2 Parameters & Return Values]]); declarar uno opcional **antes** de uno obligatorio provoca un error de argumentos y está **deprecado** desde PHP 8.0 [PHP](https://www.php.net/manual/en/functions.arguments.php). Con la llegada de **Named Arguments** ([[6.4 Named Arguments]]) (PHP 8.0) y **trailing commas** (PHP 7.3 llamadas, PHP 8.0 declaraciones), se flexibiliza aún más el uso de parámetros opcionales en llamadas complejas [PHP](https://www.php.net/manual/en/functions.arguments.php).
### Definición
Un parámetro con valor por defecto en PHP se declara así:
```php
function example($req, $opt = 'value') {...}
```
- Si se invoca `example('x')`, entonces `$opt` vale `'value'`.
- Si se invoca `example('x', null)`, `$opt` toma `null`, no el valor por defecto.
- Los valores por defecto deben ser expresiones constantes: literales o, desde PHP 8.1, `new Clase()`.
### Conceptos clave
- **Aplicación del default**
    - Solo cuando el argumento **no existe**; pasar explícitamente `null` no dispara el valor por defecto [PHP](https://www.php.net/manual/en/functions.arguments.php).
- **Tipos permitidos**
    - **Escalares:** cadenas, enteros, booleanos. ([[2.3 Data Types]])
    - **Arrays:** p. ej. `['a', 'b']`. ([[3.1 Arrays]])
    - **`null`**.
    - **Objetos** (`new Clase()`) desde PHP 8.1 [PHP](https://www.php.net/manual/en/functions.arguments.php). ([[11.1 Classes and Objects]])
- **Posición en la lista**
    - Todos los parámetros **opcionales** deben declararse **después** de los **requeridos** [PHP](https://www.php.net/manual/en/functions.arguments.php).
    - Declarar `$opt` antes de `$req` está **deprecado** (PHP 8.0) o causa **`ArgumentCountError`** [PHP](https://www.php.net/manual/en/functions.arguments.php) ([[6.2 Parameters & Return Values]]).
- **Trailing commas**
    - **Llamadas a funciones:** permitidos desde PHP 7.3.
    - **Declaración de parámetros:** permitidos desde PHP 8.0 [PHP](https://www.php.net/manual/en/functions.arguments.php).
- **Named Arguments** ([[6.4 Named Arguments]])
    - Con PHP 8.0 puedes invocar `función(opcional: 'x')` sin importar la posición [PHP](https://www.php.net/manual/en/functions.arguments.php).
### Ejemplos prácticos
##### Valor por defecto básico
```php
<?php

function saludar($nombre = "Mundo") {
	return "Hola, $nombre!";
}

echo saludar();      // Hola, Mundo!
echo saludar(null);  // Hola, !
echo saludar("Ana"); // Hola, Ana!

```
##### Array y objeto como default
```php
<?php

function listar(array $items = ["uno", "dos"]) {
	return implode(", ", $items);
}
echo listar();

// Desde PHP 8.1
class A { public function d() { return "OK"; } }
function probar(A $a = new A) { return $a->d(); }
echo probar();

```
##### Orden correcto de parámetros
```php
<?php
// Correcto
function yogurt($sabor, $nvase = "tazón") {...}
echo yogurt("fresa");

// Incorrecto (deprecado en PHP 8.0)
// function yogurt($envase = "tazón", $sabor) {...}


```
##### Llamada con `named arguments`
```php
<?php

function hacer($tam = "grande", $tipo = "mocha") {...}
echo hacer(tipo: "latte"); // grande "latte"

```
##### `trailing comma` en declaración
```php
<?php
// PHP 8.0+
function fn($a, $b, $c = 3,) {...}

```
## Notas
---
- Usar `null` explícito solo cuando se quiere forzar que no haya valor por `default`, evitando confusiones.
- Ordenar siempre parámetros para que los opcionales queden al final y evitar deprecaciones.
- Combinar `named arguments` y `trailing commas` para máxima claridad de firmas largas.
