En PHP, las construcciones **`include`** y **`require`** permiten incorporar y evaluar el contenido de archivos externos dentro de un script. La diferencia principal es que **`include`** emite una **advertencia** (`E_WARNING`) si el archivo no se encuentra y continúa la ejecución, mientras que **`require`** provoca un **error fatal** (`E_ERROR`/`E_COMPILE_ERROR`) deteniendo el script [PHP](https://www.php.net/manual/en/function.include.php)[PHP](https://www.php.net/manual/en/function.require.php). Sus variantes **`_once`** (`include_once` y `require_once`) añaden la garantía de que cada archivo solo se incluirá una vez, evitando redefiniciones de funciones o clases al devolver `true` o `1` si ya se había cargado antes [PHP](https://www.php.net/manual/en/function.require-once.php). Además, **`include`** respeta la configuración de `include_path` (y busca en el directorio del script y el de trabajo actual si no encuentra el archivo), mientras que las rutas absolutas o que comienzan con `.`/`..` ignoran el `include_path` [PHP](https://www.php.net/manual/en/function.include.php). Finalmente, todas estas construcciones son **`language constructs`** (no funciones), por lo que no requieren paréntesis y no soportan llamadas variables ni argumentos nombrados [PHP](https://www.php.net/manual/en/function.include.php).
### Definición
- `include 'archivo.php'`: Incluye y evalúa el archivo indicado; ante fallo emite `E_WARNING` y continúa la ejecución.
- `require 'archivo.php'`: Igual que `include`, pero ante fallo lanza `E_ERROR` (fatal) y detiene el script.
- `include_once 'archivo.php'`: Incluye y evalúa el archivo solo si se ha incluido antes; devuelve `true` en caso de omitir inclusión repetida.
- `require_once 'archivo.php'`: Igual que `require`, pero comprueba que se haya incluido antes y omite inclusiones repetidas.
### Conceptos clave
- Error vs Advertencia 
	- `include`: `E_WARNING`, ejecución continúa
	- `require`: `E_ERROR`/`E_COMPILE_ERROR`, ejecución se detiene
- Unicidad `_once`: Previene redefinición de funciones y clases al incluir un archivo únicamente la primera vez.
- Rutas e `include_path`
	- Si la ruta es relativa y no usa `.` o `/`, PHP busca en `include_path`, luego en el directorio del script y el de trabajo.
	- Rutas absolutas o que comienzan con `.`/`..` ignoran `include_path`.
- Retorno de valor:
	- `include` y `require` devuelven `1` al incluir con éxito (a menos que el archivo use `return`) y `false` en `include` si falla.
	- `require_once`/`include_once` devuelven `1` si el archivo ya estaba incluido
- Variable `scope`: El código incluido hereda el ámbito de variables del punto de inclusión, pero las funciones y clases quedan en ámbito global.
- `Lenguage construct`: No son funciones; no requieren paréntesis y no soportan llamadas variables ni argumentos nombrados.
### Ejemplos prácticos
##### `include` básico
```php
<?php

// vars.php define $color = 'rojo';
include 'vars.php';
echo "Color: $color"; // Color: rojo

```
##### `require` con detención en error
```php
<?php

require 'config.php'; // Si falta, detiene el script con fatal error
echo "Este mensaje solo aparece si config.php existe.";

```
##### `include_once` para evitar redefiniciones
```php
<?php

include_once 'lib.php'; // primera vez incluye lib.php
include_once 'lib.php'; // Segunda vez no hace nada

```
##### `require_once` con retorno de valor
```php
<?php

// settings.php: <?php return ['mode' => 'dev']; 
$settings = require_once 'settings.php';
var_export($settings); // ['mode' => 'dev']

```
##### Búsqueda en `include_path`
```php
<?php

// php.ini: include_path="lib/:."
include 'helper.php'; // Busca en lib/helper.php luego ./helper.php

```
## Notas
--- 
- Usar `require_once` para cargar archivos de configuración y clases para evitar redeclaraciones accidentales.
- Usar `include` cuando la inclusión es opcional (por ejemplo, plantillas de vistas no críticas).
- Siempre definir rutas absolutas con `__DIR__` para evitar problemas de `include_path` y directorios de trabajo cambiantes.
