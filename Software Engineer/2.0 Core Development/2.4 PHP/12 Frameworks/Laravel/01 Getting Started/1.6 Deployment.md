La guía de Despliegue de Laravel aborda los pasos esenciales para llevar tu aplicación a producción con eficiencia y seguridad. Comienza por cumplir los requisitos de servidor (PHP ≥ 8.2 y extensiones clave) y configurar el servidor web (Nginx o FrankenPHP) garantizando que todas las peticiones apunten a `public/index.php` y que los directorios de `bootstrap/cache` y `storage` sean grabables por el proceso web. A continuación, se presentan comando de optimización (`php artisan optimize`, `config:cache`, `event:cache`, `route:cache`, `view:cache`) para precachear configuración, eventos, rutas y vistas, reduciendo accesos al sistema de archivos en cada petición. Se recomienda desactivar el `modo:debug` en producción (`APP_DEBUG=false`) y exponer la ruta de salud (`/up` o `/status`) para integrarla con monitores y balanceadores. Finalmente, Laravel ofrece plataformas gestionadas como Laravel Cloud y Laravel Forge para simplificar el aprovisionamiento, escalado y mantenimiento de servidores [Laravel](https://laravel.com/docs/12.x/deployment). Como buenas prácticas adicionales, es aconsejable asegurar la comunicación con HTTPS, mantener el software actualizado y emplear un `firewall` para proteger tu servidor [DigitalOcean](https://www.digitalocean.com/solutions/laravel-hosting?utm_source=chatgpt.com).

---
### Requisitos del Servidor
Antes de desplegar, confirma que tu entorno cumple con los requisitos mínimos:
- PHP ≥ 8.2
- Extensiones: **`Ctype`**, **`cURL`**, **`DOM`**, **`Fileinfo`**, **`Filter`**, **`Hash`**, **`Mbstring`**, **`OpenSSL`**, **`PCRE`**, **`PDO`**, **`Session`**, **`Tokenizer`**, **`XML`**
Estas extensiones son fundamentales para la mayoría de las funciones de Laravel, desde el manejo de cadena multibyte hasta el cifrado y el acceso a bases de datos.

---
### Configuración del Servidor
##### `Nginx`
Utiliza una configuración que dirija todas la solicitudes a `public/index.php` y protege archivos sensibles:
```nginx
server {
   listen 80; listen [::]:80;
   server_name example.com;
   root /srv/example.com/public;

   add_header X-Frame-Options "SAMEORIGIN";
   add_header X-Content-Type-Options "nosniff";

   index index.php;
   charset utf-8;

   location / {
       try_files $uri $uri/ /index.php?$query_string;
   }

   location ~ \.php(/|$) {
       fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
       fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
       include fastcgi_params;
       fastcgi_hide_header X-Powered-By;
   }

   location ~ /\.(?!well-known).* {
       deny all;
   }
}
```
Asegúrate de no mover `index.php` fuera de `public/` para evitar exponer archivos de configuración privados.
##### `FrankenPHP`
Como alternativa moderna, `FrankenPHP` ofrece un servidor PHP embebido en `Go` con características avanzadas (HTTP3, compresión, Octane). Levanta tu app con:
```bash
frankenphp php-server -r public/
```
y aprovecha su integración con `Laravel Octane` para mejorar el rendimiento.
##### Permisos de Directorio
Laravel necesita escribir en `bootstrap/cache` y `storage`. Otorga permisos al usuario del servidor web:
```bash
chown -R www-data:www-data bootstrap/cache storage
chmod -R 775 bootstrap/cache storage
```
Esto asegura que la generación de caches y logs no falle por falta de permisos.

---
### Optimización
Laravel ofrece un solo comando para precachear múltiples recursos:
```bash
php artisan optimize
php artisan optimize:clear
```
Este comando engloba varias tareas de caché que luego puedes ejecutar de forma granular:
##### `Caching Configuration`
```bash
php artisan config:cache
```
Combina todos los archivos de configuración en uno solo, reduciendo lecturas del sistema de archivos.
##### `Caching Events`
```bash
php artisan event:cache
```
Cachea los mapeos auto-descubiertos de eventos a `listeners` para acelerar el despacho de eventos.
##### `Caching Routes`
```bash
php artisan route:cache
```
Convierte el registro de rutas en un único método estático, ideal para aplicaciones con cientos de rutas.
##### `Caching Views`
```bash
php artisan view:cache
```
Pre-compila todas las vistas Blade, evitando compilaciones `on-demand` en producción.

---
### Modo Debug
En producción, siempre ejecuta con `APP_DEBUG=false` en tu archivo `.env`. Dejarlo en `true` expone datos sensibles en páginas de error y pone en riesgo la aplicación.

---
### Ruta de Salud
Laravel incluye una ruta `health-check` en `/up` (o ruta configurada) que:
- Retorna `200` si la aplicación cargo sin excepciones
- Retorna `500` en caso contrario
- Despacha el evento `Illuminate\Foundation\Events\DiagnosingHealth` para añadir chequeos personalizados (`BD`, `cache`) desde un `Listener`.
Puedes cambiar la URI en `bootstrap/app.php` con:
```php
->withRouting(
	web: __DIR__ . '/../routes/web.php',
	commands: __DIR__ . '/../routes/console.php',
	health: '/up', // o 'status'
)
```

---
### Plataformas Gestionadas
##### `Laravel Cloud`
`Laravel Cloud` es la plataforma oficial "`serverless`" de Laravel con escalado automático, bases de datos gestionadas, caches y almacenamiento de objetos integrado. Ideal para olvidarte de la administración de servidores.
##### `Laravel Forge`
`Laravel Forge` automatiza la provisión de VPS en `Digital Ocean`, `Linode`, `AWS`, etc., instalando y configurando `Nginx`, `MySQL`, `Redis`, `Beanstalk` y más con un par de clics.

---
### Buenas Prácticas Adicionales
- **Seguridad de Servidor**: Habilita HTTPS (SSL/TLS), desactiva `login root` y configura un firewall (UFW) [DigitalOcean](https://www.digitalocean.com/solutions/laravel-hosting?utm_source=chatgpt.com).
- **Actualizaciones**: Mantén tu SO, PHP y dependencias de Laravel al día para evitar vulnerabilidades [Medium](https://medium.com/%40mohamadshahkhajeh/deploying-laravel-apps-securely-on-digitalocean-aws-best-practices-for-a-secure-cloud-setup-d6b9edf92d71?utm_source=chatgpt.com).
- **Backups y Monitoreo**: Automatiza copias de seguridad y usa herramientas de monitoreo para auditar logs y métricas [DigitalOcean](https://www.digitalocean.com/solutions/laravel-hosting?utm_source=chatgpt.com).
- **CI/CD**: - Integra `GitHub Actions` o `Envoy` para despliegues **`zero‑downtime`**.
