El ciclo de vida de una solicitud en Laravel define cómo una petición HTTP o de consola se procesa desde que el servidor web la recibe hasta que se envía la respuesta al cliente, pasando por fases de arranque, registro de proveedores de servicio, ejecución de middleware y despacho de rutas. Comienza en `public/index.php`, donde se carga el `autoloader` de `Composer` y se genera la instancia de la aplicación desde `bootstrap/app.php`. A continuación, la petición se dirige al `Kernel` (`HTTP` o `Console`), que inicializa los `bootstrappers` (configuración de errores, `logging`, entorno) y luego ejecuta la pila de `middleware`. Seguidamente, Laravel registra y arranca cada `Service Provider`, configurando componentes como base de datos, colas y validación, antes de despachar la ruta correspondiente con sus `middlewares` específicos. Finalmente, la respuesta generada se propaga de vuelta a través de los mismos `middleware`, se envía al `Kernel` y se imprime al cliente, completando el recorrido [laravel.com](https://laravel.com/docs/12.x/lifecycle?utm_source=chatgpt.com).

---
### Definición
El ciclo de vida de la solicitud es el flujo de ejecución interno que Laravel sigue para manejar cada petición, asegurando que al aplicación esté correctamente configurada, que se apliquen políticas de seguridad y que se despachen rutas y controladores de forma controlada.

---
### Conceptos Clave
##### 1. Punto de Entrada
El archivo `public/index.php` es la única puerta de entrada para todas las peticiones web; en él se carga el `autoloader` de `Composer` y se obtiene la instancia de la aplicación desde `bootstrap/app.php`.
##### 2. `Kernels HTTP` y de Consola
Dependiendo del tipo de petición, se envía al `HTTP Kernel` (`Illuminate\Foundation\Http\Kernel`) o al `Console Kernel`, que manejan las peticiones y comandos respectivamente, centralizando el flujo de control.
##### 3. `Bootstrappers`
Antes de procesar la solicitud, Laravel ejecuta los `bootstrappers` definidos en el `Kernel`, responsables de configurar manejadores de errores, detección de entorno, `logging` y otras tareas previas al manejo del `request`.
##### 4. `Middleware`
La petición pasa luego por la pila de `middlewares` global, que incluye protección CSRF, verificación de modo mantenimiento, lectura/escritura de sesión y más. Estos filtros preparan la solicitud o la rechazan si no cumple condiciones.
##### 5. `Service Providers`
Los `Service Providers` son la columna vertebral del arranque de Laravel; se registran (método `register`) y luego se arrancan (método `boot`) todos los proveedores definidos, habilitando componentes como `Eloquent`, colas, validación y enrutamiento.
##### 6. `Routing`
Una vez `bootstrapped`, el `router` despacha la petición a la ruta o controlador adecuado, aplicando además cualquier `middleware`, asignado a esa ruta antes de invocar la lógica de negocio.
##### 7. Ejecución y Respuesta
El controlador o `Closure` asociado genera un objeto `Response`. Esta viaja de regreso por la pila de `middleware`, donde puede ser modificado, antes de que el `Kernel` lo envíe al navegador con el método `send()`.

---
### Ejemplo Conceptual
```php
// public index.php
require __DIR__ . '/../vendor/autoload.php';
$app = require __DIR__ . '/../bootstrap/app.php';

// HTTP Kernel recibe Request y devuelve Response
$response = $app->handle(
	$request = Illuminate\Http\Request::capture()
);
$response->send();
$app->terminate($request, $response);

```

---
## ✍️ Notas
- Comprender el ciclo de vida ayuda a ubicar dónde enganchar eventos o comandos personalizados.
- Saber cuando se ejecutan los middleware permite agregar filtros de seguridad y métricas en el lugar adecuado.