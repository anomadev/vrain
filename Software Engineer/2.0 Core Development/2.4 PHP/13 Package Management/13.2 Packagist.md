> [!info] Packagist (Roadmap SH)
> Packagist es el repositorio de paquetes principal para PHP y proporciona un servicio para alojar y distribuir dependencias de paquetes PHP. Los desarrolladores pueden usarlo para cargar sus paquetes PHP y compartirlos con otros desarrolladores a nivel mundial. Junto con Composer, Packagist ayuda a administrar versiones de paquetes y resolver dependencias para PHP, actuando como parte crucial del desarrollo de PHP moderno.

`Packagist` es el repositorio central de paquetes para PHP, donde se publican las librerías instalables vía `Composer` ([[13.1 Composer]]). Sirve como catálogo (y, con `Private Packagist`, privado) de los `packages` que puedes agregar a tu proyecto. Conocer `Packagist` te permite:
1. Descubrir componentes reutilizables (logging, clientes HTTP, frameworks).
2. Seleccionar versiones adecuadas usando `version constraints SemVer`, para asegurar compatibilidad y estabilidad.
3. Configurar tu `composer.json` para que `Composer` ([[13.1 Composer]]) pueda descargarlos, resolver dependencias y `autoloading` ([[13.3 Autoloading]]).

| Concepto                | Descripción                                                                                                              |
| ----------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| **Buscar paquetes**     | En Packagist.org, buscas por nombre, descripción o etiquetas, y ves información de descarga, dependencias y estabilidad. |
| **Version Constraints** | En `composer.json` usas operadores SemVer: `^`, `~`, `>=`, `<=`, `*` para indicar rangos permitidos.                     |
| **composer.json**       | Define dependencias y `autoloading`                                                                                      |
| **composer.lock**       | Archivo que bloquea versiones exactas instaladas. Debe versionarse en tu VCS para entornos reproducibles.                |
| **Instalación**         | `composer install` lee `composer.lock` (o si no existe, `composer.json`), descarga paquetes en `vendor/`                 |
| **Actualización**       | `composer update` vuelve a resolver rangos en `composer.json`, actualiza `composer.lock` y descarga nuevas versiones.    |
| **Private Packagist**   | Permite hospedar paquetes privados con control de acceso y estadística, útil para librerías internas.                    |

### Analogías
- **Supermercado de componentes**: `Packagist` = estantería con miles de productos (paquetes). Tu `composer.json` es tu lista de compra, y `Composer` el carrito que recoge los ítems exactos.
- **Catálogo de IKEA + Montaje**: `Packagist` es el catálogo de muebles; `Composer` lee el catálogo y descarga el mueble (paquete) y sus instrucciones de montaje (`autoload`, dependencias).

### Ejemplos Prácticos
##### Agregar un paquete
```bash
composer require monolog/monolog:^2.0
```
`Composer`:
1. Busca `monolog/monolog` en `Packagist`
2. Elige la última `2.x` (`SemVer`)
3. Descarga y actualiza `composer.json` y `composer.lock`
4. Genera el `autoloader` en `vendor/autoload.php` ([[13.3 Autoloading]])
##### Bloquear versiones exactas
Tras `composer install`, `composer.lock` contiene:
```json
"packages": [
	{
		"name": "monolog/monolog",
		"version": "2.3.5",
		/* ... */
	}
]
```
En producción `composer install` usa el `lockfile`, asegurando que sea siempre la 2.3.5, sin sorpresas.
##### Rutas alternativas (`repositories`)
```json
"repositories": [
	{
		"type": "vcs",
		"url": "https://github.com/miempresa/mipaquete"
	}
]
```
Permite contratar paquetes que no están en `Packagist`, p. ej. librerías internas.
##### Versiones `SemVer` en `composer.json`
|Operador|Significado|
|---|---|
|`^1.2`|`>=1.2.0 <2.0.0`|
|`~1.2`|`>=1.2.0 <1.3.0`|
|`*`|Cualquier versión, p. ej. `1.*` = `>=1.0.0 <2.0.0`|
|`>=2.0`|Cualquier versión desde 2.0 inclusive|
|`dev-main`|Rama de desarrollo `main`, útil para pruebas o librerías sin releases estables|
