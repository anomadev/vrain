`SELECT` es la sentencia de SQL utilizada para consultar y extraer datos de una o más tablas. Permite especificar qué columnas ver, de qué tablas tomarlas, qué filas filtrar, cómo agrupar o ordenar los resultados y, en general, construir un subconjunto de datos que cumpla ciertas condiciones.

> Analogía: Imagina que tu base de datos es una hoja de cálculo con muchas filas y columnas. Con `SELECT` le dices a la base: "Muéstrame las columnas A, B y C de las filas donde X = algo", al igual que aplicarías filtros y ordenarías en Excel.

---
### Conceptos Clave
##### `SELECT` y `FROM`
```sql
SELECT columna1, columna2, ...
FROM tabla;
```
- `SELECT columna1, columna2, ...`: Lista las columnas que quieres ver
- `FROM tabla`: Indica de qué tabla provienen esas columnas
- Para todas las columnas, se usa `SELECT *`
##### `DISTINCT`
```sql
SELECT DISTINCT columna
FROM tabla;
```
- Elimina duplicados en el resultado, mostrando cada valor único de `columna`.
##### `WHERE` (filtrado)
```sql
SELECT columnas
FROM tabla
WHERE condicion;
```
- Filtra filas que cumplen `condicion` (comparaciones, rangos, patrones)
- Operadores comunes:
	- Igualdad: `=`, desigualdad `<>` o `!=`
	- Comparación: `<`, `>`, `<=`, `>=`
	- Rango: `BETWEEN valor1 AND valor2`
	- Conjunto: `IN (valor1, valor2, ...)`
	- Patrones: `LIKE 'prefix%'`, `NOT LIKE '%sufix'`
	- Nulos: `IS NULL`, `IS NOT NULL`
##### `ORDER BY` (ordenación)
```sql
SELECT columnas
FROM tabla
WHERE condicion
ORDER BY columna3 [ASC|DESC], columna4 [ASC|DESC]
```
- Ordena el resultado por una o varias columnas
- `ASC` (ascendente) es predeterminado; `DESC` (descendente) invierte orden
##### `GROUP BY` y `HAVING` (agrupación y filtrado de grupos)
```sql
SELECT columna_agrupada, funcion_agregada(columna)
FROM tabla
WHERE condicion
GROUP BY columna_agrupada
HAVING condicion_agrupada;
```
- `GROUP BY columna`: junta filas que comparten el mismo valor en `columna`
- Funciones de agregación:
	- `COUNT()`: cuenta filas
	- `SUM()`: suma números
	- `AVG()`: promedio
	- `MIN()`, `MAX()`: mínimo y máximo
- `HAVING`: filtra grupos resultantes de `GROUP BY` (similar a `WHERE`, pero actúa sobre grupos)
##### `JOIN`s (unir varias tablas)
- `INNER JOIN`: devuelve filas que tengan coincidencias en ambas tablas
- `LEFT JOIN` (o `LEFT OUTER JOIN`): devuelve todas las filas de la tabla izquierda; si no hay coincidencia en la derecha, rellena con `NULL`.
- `RIGHT JOIN`: inverso de `LEFT JOIN`
- `FULL JOIN`: incluye filas sin coincidencia en cualquiera de las dos tablas.
```sql
SELECT a.col1, b.col2
FROM tabla_a a
INNER JOIN tabla_b b ON a.id = b.a_id;
```
##### `LIMIT` / `FETCH` (limitar resultados)
```sql
SELECT columnas
FROM tabla
WHERE condicion
ORDER BY columna
LIMIT n;
```
o en SQL Server / Oracle
```sql
SELECT columnas
FROM tabla
WHERE condicion
ORDER BY columna
FETCH FIRST n ROWS ONLY;
```

---
### Ejemplos Prácticos
##### Listar clientes de una ciudad (`SELECT` + `WHERE` + `ORBER BY`)
Una tienda en línea quiere enviar una promoción a todos los clientes que vivan en "Guadalajara" y ordenar la lista alfabéticamente.
```sql
SELECT cliente_id, nombre, correo
FROM clientes
WHERE ciudad = 'Guadalajara'
ORDER BY nombre ASC;
```
1. Filtra filas de `clientes` donde `ciudad = 'Guadalajara'`
2. Devuelve columnas `cliente_id`, `nombre` y `correo`
3. Ordena resultados por `nombre` en orden ascendente
##### Ver productos únicos en inventario (`DISTINCT`)
Quieres saber qué categorías de producto existen sin repetir
```sql
SELECT DISTINCT categoria
FROM productos
```
- Devuelve cada valor distinto de `categoria` en la tabla `productos`. Si hay 50 filas con `categoria = 'Electronica'`, solo aparece una vez.
##### Obtener estadísticas de ventas por vendedor (`GROUP BY` + `HAVING`)
Un negocio necesita saber cuántas ventas totales ha hecho cada vendedor, y mostrar solo aquellos que superen las 10 ventas en el mes.
```sql
SELECT vendendor_id, COUNT(venta_id), SUM(monto) AS monto_total
FROM ventas
WHERE fecha_venta BETWEEN '2025-05-01' AND '2025-05-31'
GROUP BY vendedor_id
HAVING COUNT(venta_id) > 10
ORDER BY monto_total DESC;
```
1. Filtra ventas hechas entre el 1 y 31 de mayo de 2025
2. Agrupa las filas por `vendedor_id`
3. Calcular `COUNT(venta_id)` y `SUM(monto)` para cada vendedor
4. Mantiene solo a los vendedores con más de 10 ventas (`HAVING`)
5. Ordena de mayor a menor `monto_total`
##### Unir tablas clientes y órdenes (`JOIN`)
Mostrar nombre de cliente y producto comprado para todas las órdenes realizadas en los últimos 7 días.
```sql
SELECT c.nombre AS cliente, p.nombre_producto, o.fecha_orden, o.total
FROM ordenes o
INNER JOIN clientes c ON o.cliente_id = c.cliente_id
INNER JOIN productos p ON o.producto_id = p.producto_id
WHERE o.fecha_orden >= CURRENT_DATE - INTERVAL '7 days'
ORDER BY o.fecha_orden DESC;
```
1. `INNER JOIN clientes c`: une cada fila de `ordenes` con fila en `clientes` según `cliente_id`.
2. `INNER JOIN productos p`: una con `productos` según `producto_id`.
3. Filtra solo órdenes de los últimos 7 días
4. Devuelve `cliente`, `nombre_producto`, `fecha_orden`, `total`.
5. Ordena del más reciente al más antiguo (`DESC`)
##### Seleccionar top N registros (`LIMIT` / `FETCH`)
Obtener los 5 productos con mayor stock para ver qué reponer.
```sql
-- PostgreSQL / MySQL
SELECT producto_id, nombre_producto, en_stock
FROM inventario
ORDER BY en_stock DESC
LIMIT 5;
```

```sql
-- SQL Server / Oracle
SELECT producto_id, nombre_producto, en_stock
FROM inventario
ORDER BY en_stock DESC
FETCH FIRST 5 ROWS ONLY;
```
1. Ordena todos los productos por `en_stock` de mayor a menor
2. Devuelve solo las primeras 5 filas, es decir, los 5 con más stock.