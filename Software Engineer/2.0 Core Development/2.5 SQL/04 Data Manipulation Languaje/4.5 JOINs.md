Los `JOIN`s en SQL permiten combinar filas de dos o más tablas basadas en una condición relacionada, generalmente una clave compartida. En lugar de ver cada tabla por separado, los `JOIN`s "unen" datos para crear un resultado más rico y completo.

> [!info] Analogía
> Imagina dos círculos de un diagrama de Venn: uno representa "Clientes" y otro "Órdenes". Un `JOIN` es esa zona donde los círculos se tocan o se combinan, dependiendo del tipo de `JOIN` que uses.

### Conceptos Clave
##### `INNER JOIN`
- **Qué hace**: devuelve solo las filas que coinciden en ambas tablas según la condición.
- **Síntesis**: *"Dame lo que está en la intersección de los dos conjuntos"*.
```sql
SELECT c.nombre, o.orden_id
FROM clientes AS c
INNER JOIN ordenes AS o
	ON c.cliente_id = o.cliente_id;

-- Solo muestra clientes que tienen al menos una orden
```
##### `LEFT JOIN` (`LEFT OUTER JOIN`)
- **Qué hace**: Devuelve todas las filas de la tabla izquierda, y las coincidencias de la derecha; si no hay coincidencia, rellena con `NULL`.
- **Síntesis**: *"De la tabla izquierda, muestra todo; si tienen pareja en la derecha, inclúyela; si no, deja vacío el espacio de la derecha"*.
```sql
SELECT c.nombre, o.orden_id
FROM clientes AS c
LEFT JOIN ordenes AS o
	ON c.cliente_id = o.cliente_id;

-- Muestra todos los clientes, con sus órdenes si existen, o NULL si no tienen
```
##### `RIGTH JOIN` (`RIGHT OUTER JOIN`)
- **Qué hace**: Es análogo a `LEFT JOIN`, pero conserva todas las filas de la tabla derecha; si no hay coincidencia en la izquierda, rellena con `NULL`.
- **Síntesis**: *"De la tabla derecha, muestra todo; si tienen pareja en la izquierda, inclúyela; si no, deja vacío el espacio de la izquierda"*.
```sql
SELECT o.orden_id, c.nombre
FROM ordenes AS o
RIGHT JOIN clientes AS c
	ON o.cliente_id = c.cliente_id;

-- Igual que el LEFT JOIN anterior, pero visto desde la tabla ordenes (derecha)
```
##### `FULL JOIN` (`FULL OUTER JOIN`)
- **Qué hace**: Combina el efecto de `LEFT` y `RIGHT JOIN`: devuelve todas las filas de ambas tablas; cuando no hay coincidencia de una, rellena con `NULL`,
- **Síntesis**: *"Muestra todo de ambos círculos: la zona común y las partes exclusivas de cada uno"*.
```sql
SELECT c.nombre, o.orden_id
FROM clientes AS c
FULL JOIN ordenes AS o
	ON c.cliente_id = o.cliente_id;

-- Muestra clientes sin órdenes (con NULL en orden_id)
-- órdenes sin cliente (con NULL en nombre), y coincidencias.
```
##### `CROSS JOIN`
- **Qué hace**: Devuelve el producto cartesiano de ambas tablas: cada fila de la izquierda emparejada con cada fila de la derecha, sin condición.
- **Síntesis**: *"Combina todo con todo"*.
```sql
SELECT c.nombre, p.nombre_producto
FROM clientes AS c
CROSS JOIN productos AS p;

-- Si hay 10 clientes y 5 productos, el resultado tendrá 50 filas (10x5)
```
##### `JOIN`s condiciones y combinaciones
Se pueden encadenar varios `JOIN`s para unir más de dos tablas:
```sql
SELECT c.nombre, o.orden_id, p.nombre_producto
FROM clientes AS c
INNER JOIN ordenes AS o ON c.cliente_id = o.cliente_id
INNER JOIN productos AS p ON o.producto_id = p.producto_id;

-- Une primero clientes-ordenes y luego el resultado con productos
```

### Ejemplos Prácticos
##### `INNER JOIN` en E-Commerce (clientes con órdenes)
```sql
SELECT c.nombre   AS Cliente
	   o.orden_id AS Orden
	   o.fecha    AS FechaOrden
FROM clientes AS c
INNER JOIN ordenes AS o
	ON c.cliente_id = o.cliente_id
WHERE o.fecha >= '2025-06-01';
```
- **Escenario**: Listar todos los clientes que hicieron una orden en junio de 2025
- **Qué hace**: Empareja cada cliente con su(s) orden(es) en el rango de fecha, sin mostrar clientes sin órdenes en ese mes.
##### `LEFT JOIN` para identificar clientes sin órdenes
```sql
SELECT c.nombre   AS Cliente
	   o.orden_id AS Orden
FROM clientes AS c
LEFT JOIN ordenes AS o
	ON c.cliente_id = o.cliente_id
WHERE o.orden_id IS NULL;
```
- **Escenario**: Encontrar clientes que no han hecho ninguna orden.
- **Qué hace**: Muestra todos los clientes y luego filtra donde `orden_id` es `NULL` (es decir, sin coincidencias en `ordenes`).
##### `FULL JOIN` para inventario vs. ventas
```sql
SELECT p.producto_id,
       p.nombre_producto,
       i.cantidad AS EnStock,
       v.total_ventas
FROM productos AS p
FULL JOIN (
  SELECT producto_id, SUM(cantidad) AS total_ventas
  FROM ventas
  GROUP BY producto_id
) AS v
  ON p.producto_id = v.producto_id
FULL JOIN inventario AS i
  ON p.producto_id = i.producto_id;
```
- **Escenario**: Crear un desglose global de productos, sus ventas y su stock, incluso si faltan datos.
- **Qué hace**:
	- La subconsulta `v` agrupa ventas por producto
	- `FULL JOIN` con `productos` y `inventario` asegura que aparezcan productos sin ventas (`total_ventas = NULL`) y entradas de ventas de productos que no estén en la tabla principal (quizá un error de catálogo).
##### `CROSS JOIN` para crear todas las combinaciones de componentes
```sql
SELECT p.nombre_producto AS Producto,
	   c.color_id AS Color,
	   c.nombre_color AS NombreColor
FROM productos AS p
CROSS JOIN colores AS c;
```
- **Escenario**: Listar todas las combinaciones posibles de productos y colores disponibles.
- **Qué hace**: Si hay 8 productos y 4 colores, genera 32 filas (8x4).
