## Definición
La `Presence Penalty` es una parámetro que aplica una penalización fija a los `tokens` ([[5.1.5 Common Terminology]]) que ya han aparecido al menos una vez en el texto generado. A diferencia de la [[5.4.1 Frequency Penalty]], este castigo no es acumulativo; es un "impuesto" único por el simple hecho de existir en el contexto previo. Su objetivo principal es aumentar la probabilidad de que el modelo hable sobre temas o entidades que aún no he mencionado.
Matemáticamente, si el `token` $j$ ya ha aparecido ($count > 0$), se ajusta su $logit$ de la siguiente manera:
$$logits_j = logits_j - penalty$$

## Conceptos Clave
- **Penalización Binaria (Existencial)**: No importa si la palabra apareció 1 o 100 veces; la penalización es la misma. Esto la diferencia del enfoque proporcional de la `Frequency Penalty`
- Incentivo a la Novedad: Al reducir la probabilidad de "lo ya dicho", el modelo se ve forzado a explorar el espacio latente en busca de nuevos términos y conceptos.
- Control del Dominio: Es la herramienta ideal para evitar que el modelo se quede "estancado" en un bucle semántico, incluso si está usando sinónimos.
- Rango de Operación: Generalmente entre $-2.0$ y $2.0$. Los valores positivos favorecen la diversidad; los negativos (uso poco común) obligan al modelo a mantenerse en los mismos términos.

## Escenarios de Aplicación e Identificación
**¿Dónde aplicarlo?**
- **Brainstorming y Generación de Ideas**: Para forzar al modelo a no repetirse y ofrecer una lista de conceptos genuinamente variada.
- **Entrevistas Simuladas**: Si diseñas un agente que actúa como entrevistador, una `Presence Penalty` alta evitará que haga preguntas similares o que gire siempre en torno al mismo tema.
- **Resúmenes Multi-tópicos**: Cuando necesitas que un resumen cubra diferentes aspectos de un documento largo sin profundizar excesivamente en uno solo.
**¿Cómo identificarlo?**
- **Pérdida de Foco**: Si notas que el modelo salta de un tema a otro de forma errática o no logra profundizar en una explicación, es probable que la `Presence Penalty` sea demasiado alta.
- **Repetición Conceptual**: Si el modelo usa palabras diferentes pero sigue diciendo lo mismo una y otra vez, necesitas aumentar la `Presence Penalty` para obligarlo a buscar nuevos ángulos.

## Notas Personales
En términos de arquitectura de prompts, la `Presence Penalty` es tu "Modulador de Profundidad vs. Amplitud". Si quieres que tu sistema sea un generalista que toque muchos puntos, súbela. Pero ten cuidado: en tareas de ingeniería o documentación técnica, una `Presence Penalty` alta puede ser contraproducente. Por ejemplo, si estás generando documentación de una API, no quieres que el modelo evita mencionar el nombre de una clase solo porque ya la mencionó antes. Úsala principalmente en capas de **generación de contenido creativo o discovery**.