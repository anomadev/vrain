## Definición
`Self-Consistency` es una técnica avanzada que mejora el rendimiento de `Chain of Thought (CoT)` ([[5.6.7 Chain of Thought (CoT) Prompting]]) al general múltiples rutas de razonamiento diversas para un mismo problema y seleccionar la respuesta final basándose en la consistencia mayoritaria (voto por mayoría). En lugar de confiar en un único hilo de pensamiento que podría desviarse, esta técnica aprovecha la estocasticidad del modelo para encontrar el resultado más probable y robusto.

## Conceptos Clave
- **`Reasoning Diversity` (Diversidad de Razonamiento)**: Al usar una temperatura ligeramente más alta ($T > 0.5$), el modelo genera diferentes formas de abordar el problema en cada ejecución.
- **`Majority Voting` (Voto por Mayoría)**: El sistema recolecta todas las respuestas finales de las diversas cadenas de pensamiento y selecciona la que aparece con mayor frecuencia.
- **`Marginalization` (Marginalización)**: Proceso matemático de "filtrar" los razonamientos erróneos que terminan en resultados aislados, asumiendo que el camino correcto es el más probable de ser repetido.
- **`Error Mitigation`**: Reduce drásticamente las alucinaciones lógicas que ocurren cuando un modelo comete un pequeño error al inicio de una cadena `CoT` y lo arrastra hasta el final.

## Escenarios de Aplicación e Identificación
**¿Dónde aplicarlo?**
- **Análisis de Impacto Crítico**: Cuando se debe decidir si una migración de base de datos es segura bajo condiciones específicas de carga.
- **Validación de Lógica de Negocio Compleja**: Cálculos financieros, reglas de cumplimiento legal o algoritmos de logística donde un error de "un solo paso" es inaceptable.
- **Optimización de Consultas SQL**: Pedir 5 formas de optimizar una consulta y elegir la estrategia que aparezca de forma consistente en la mayoría de las propuestas.
**¿Cómo identificarlo?**
- **Arquitectura Multi-Inferencia**: Identificas esta técnica cuando ves que el sistema realiza $N$ peticiones paralelas al API para la misma pregunta.
- **Capa de Agregación**: Existe una lógica de software (backend) que compara los outputs antes de mostrar el resultado final al usuario.

## Notas Personales
Desde la ingeniería de software, el `Self-Consistency` es tu "Unit Testing en tiempo de ejecución". Es una técnica de fuerza bruta para la fiabilidad. Un error común es aplicarla a todo; mi consejo es usarla como un "Step-up Logic": si el primer intento de respuesta tiene un puntaje de confianza bajo, entonces disparas `Self-Consistency` para validar.