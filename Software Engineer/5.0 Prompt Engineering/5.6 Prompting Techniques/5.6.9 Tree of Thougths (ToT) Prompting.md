## Definición
`Tree of Thougths` es un framework de prompting que extiende la idea de `Chain of Thought` ([[5.6.7 Chain of Thought (CoT) Prompting]]) al permitir que el modelo explore múltiples caminos de razonamiento ("pensamientos") de forma simultánea. El proceso se estructura como un árbol donde cada nodo es un paso intermedio. El sistema utiliza técnicas de búsqueda (como BFS o DFS) y evaluaciones heurísticas para decidir qué ramas del pensamiento seguir explorando, cuáles podar y cuándo retrocedes para buscar una ruta alternativa.

## Conceptos Clave 
- `Thought Unit` (Unidad de Pensamiento): Un fragmento coherente de texto que sirve como un paso intermedio hacia la solución.
- `Thought Generator`: El proceso de generar múltiples propuestas candidatas para el siguiente paso del razonamiento.
- `State Evaluator` (Heurística): Un mecanismo (a menudo el mismo LLM ([[5.1.5 Common Terminology]]) u otro agente) que califica la viabilidad de un camino (*ej. "Seguro", "Posible", "Imposible"*).
- `Search Algorithm`: La lógica que orquesta la exploración del árbol, usualmente *Breadth-First Search (BFS)* o *Depth-First Search (DFS)*.
- `Backtracking`: La capacidad del sistema para abandonar una rama de pensamiento de baja puntuación y retomar una rama previa más prometedora.

## Escenarios de Aplicación e Identificación
**¿Dónde aplicarlo?**
- **Planificación Estratégica de Sistemas**: Diseñar un plan de migración de microservicios donde cada decisión afecta a las siguientes (infraestructura, datos, red).
- **Refactorización Compleja**: Evaluar  diferentes patrones de diseño para un módulo específico y "probar" mentalmente cómo impactaría cada uno en el resto del sistema antes de escribir código.
- **Creative Writing con Restricciones**: Escribir un guion o código que debe cumplir con múltiples reglas contradictorias simultáneamente.
**¿Cómo identificarlo?**
- **Flujos de Decisión No Lineales**: Identificas `ToT` cuando el sistema no solo "piensa paso a paso", sino que explícitamente dice: "*Opción A parece viable por X, volvamos a la Opción B*".
- **Arquitectura de Orquestación**: Requiere un componente externo (códigos o un agente supervisor) que maneje el estado del árbol y las evaluaciones.

## Notas Personales
Desde la ingeniería de software, `ToT` es el equivalente a un algoritmo de búsqueda A. Es la técnica más "cara" y lenta en términos de `tokens` ([[5.1.5 Common Terminology]]) y latencia, por lo que mi recomendación es usarla solo cuando el costo de un error sea extremadamente alto o el problema sea masivamente complejo. Un error común es intentar hacer `ToT` dentro de un solo prompt; en la práctica, `ToT` requiere de un **loop de control** en el código de tu aplicación.