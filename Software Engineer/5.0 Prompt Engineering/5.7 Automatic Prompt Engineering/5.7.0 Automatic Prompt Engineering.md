## Definición
El `Automatic Prompt Engineering` (APE) es un framework de optimización donde se utiliza un modelo de lenguaje para generar y seleccionar automáticamente la instrucción más efectiva para una tarea específica. El proceso trata el "prompt" ([[5.1.2 What is a Prompt]]) como una variable optimizable dentro de un bucle de retroalimentación: se generan candidatos, se ejecutan contra un set de datos de validación y se seleccionan los que obtienen el mejor puntaje según una función objetivo (`Objetive Function`).

## Conceptos Clave
- `Prompt Candidates`: El LLM ([[5.1.1 LLMs and how they work]]) generador produce múltiples variaciones de una instrucción para una misma tarea.
- `Objetive Function` (Función Objetivo): El criterio de éxito definido (*ej. exactitud en JSON, tono, o coherencia lógica*). Matemáticamente, buscamos maximizar $f(p)$ donde $p$ es el prompt.
- `Evaluation Dataset`: Un conjunto de ejemplos de "Entrada/Salida ideal" (`Ground Truth`) contra los cuales se prueban los prompts candidatos.
- `Meta-Prompting`: El prompt utilizado para pedirle al modelo que genere mejores prompts (*ej. Dada esta tarea y estos fallos, genera una instrucción más precisa*).
- `Resampling`: Técnica de generar nuevas variaciones basadas en los prompts que mejor funcionaron en la ronda anterior.

## Escenarios de Aplicación e Identificación
¿Dónde aplicarlo?
- **A/B Testing de Prompts a Escala**: Cuando tienes miles de tareas diferentes y es humanamente imposible optimizar un prompt  para cada una.
- **Migración de Modelos**: Al pasar de GPT-4 a un modelo Open Source (como Llama 3), los prompts suelen requerir ajustes estructurales que APE puede automatizar.
- **Sistemas de Auto-curación (`Self-healing`)**: Un sistema que detecta cuando un prompt empieza a fallar y genera una versión corregida automáticamente basándose en los logs de error.
**¿Cómo identificarlo?**
- **Arquitectura de "Caja Negra"**: Identificas APE cuando el prompt final que llega al modelo de producción no fue escrito por un humano, sino que fue seleccionado de una base de datos de "prompts optimizados"
- **Proceso de "Entrenamiento" de Prompts**: Verás pipelines de CI/CD que incluyen una etapa de evaluación de prompts antes del despliegue.

## Notas Personales
Desde la arquitectura de software, APE es el fin del "Prompt Engineering" como lo conocemos hoy (manual y basado en intuición). Estamos moviéndonos hacia una era de Programación de Software basada en Búsqueda. Mi recomendación técnica: no pierdas horas probando si "Por favor" ayuda a tu prompt; construye un pequeño script que pruebe 10 variaciones y te diga cual tiene mayor *accuracy*.