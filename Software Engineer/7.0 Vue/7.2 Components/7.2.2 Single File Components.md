## Definición
Los `Single File Componentes (SFC)`, conocidos por su extensión `.vue`, son la abstracción estándar de `Vue` que permiten encapsular `Template` (HTML), la `Logic` (`JavaScript/TypeScript`) y el `Style` (`CSS`) de un componente en un solo archivo. Esta estructura permite un desarrollo modular, facilita el uso de herramientas de pre-procesamiento y optimiza el rendimiento mediante la compilación `ahead-of-time (AOT)`.

## Conceptos Clave
- **`Concers, not File Types`**: El SFC promueve la separación de responsabilidades (`Separation of Concerns`) basándose en la funcionalidad del componente, no en el tipo de archivo (no separas JS de HTML solo por ser lenguajes distintos, sino por lo que el componente "hace").
- **`<script setup>`**: La sintaxis moderna y recomendada para usa la `Composition API` dentro de `SFCs`, que reduce el `boilerplate` y mejora la inferencia de tipos con `TypeScript`.
- **`Scoped CSS`**: La capacidad de aislar los estilos al componente actual usando el atributo `scoped`, evitando colisiones globales de selectores.
- **`Pre-processors`**: Soporte nativo para usar `TypeScript`, `SCSS/Sass`, `Pug`, etc., mediante el atributo `lang` (ej. `<script lang="ts">`)

## Ejemplos Prácticos
##### Estructura Estándar de un SFC con TypeScript
```typescript
<script setup lang="ts">
import { ref, onMounted } from 'vue';

// State and Logic 
const count = ref<number>(0); 
const increment = () => count.value++;

onMounted(() => { 
	console.log('Component is ready'); 
}); 
</script>

<template>
	<div class="counter-container">
		<p>Current count: {{ count }}</p> 
		<button @click="increment">Add +1</button> 
	</div>
</template>

<style scoped> 
.counter-container { 
	padding: 1rem; 
	border: 1px solid #ccc; 
} 
button { 
	cursor: pointer; 
} 
</style>
```

## Analogía
Imagina un Organismo Unicelular. Es una sola célula (el archivo `.vue`), tiene el ADN y los procesos químicos (`Script`), la membrana y estructurada física (`Template`), y las proteínas que determinan su apariencia (`Style`). Aunque todo vive dentro de la misma membrana, cada parte tiene una función vital distinta. Es más eficiente mover y replicar una célula completa que intentar coordinar partes sueltas que flotan en diferentes lugares.

## Buenas Prácticas
- **Use `<script setup>`**: Es el estándar actual. Ofrece mejor rendimiento en tiempo de ejecución y una experiencia de desarrollo superior con `IDEs`.
- **`Order of Blocks`**: Mantén un orden consistente. La comunidad prefiere `script` -> `template` -> `style`, aunque `Vue` permite cualquier orden. Esto facilita la lectura rápida entre archivos del equipo.
- **`Small is Better`**: Si un `SFC` supera las 300-400 líneas, es un fuerte indicador de que debe ser refactorizado en sub-componentes más pequeños o extraer la lógica a un `Composable (.ts)`.
- **`Avoid Global Styles in SFC`**: Usa `scoped` por defecto. Si necesitas estilos globales, ponlos en un archivo `.css` dedicado o usa el selector `:global()` con extrema precaución.

## Escenarios y Aplicaciones
- **`Enterprise Applications`**: donde la modularidad y el tipado fuerte son críticos para el mantenimiento a largo plazo.
- **`Prototyping`**: Permite crear interfaces complejas rápidamente sin saltar entre múltiples archivos de diferentes extensiones.
- **`Design Systems`**: Ideal para construir bibliotecas de componentes donde cada pieza es totalmente autónoma y fácil de testear.

## Notas Personales
- **`Refactoring`**: Al migrar proyectos de `Vue 2` a `Vue 3`, el paso a `SFC` con `<script setup>` es el momento ideal para limpiar lógica muerta y aplicar `SOLID`.
- Ten cuidado con los estilos `scoped` y los componentes hijos; el estilo del padre no entrará en el hijo a menos que uses selectores profundos como `:deep()`.
- Los SFC permiten que `Vite` realice `Hot Module Replacement` de forma quirúrgica: si solo cambias el `CSS`, `Vite` solo actualiza el estilo sin recargar el estado del componente.
